<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kaplan's Lab focuses on rare diseases and ciliopathies using comparative genomics, CRISPR/Cas9, and bioinformatics tools like ConVarT, CilioGenics, and CiliaMiner.">
    <meta name="keywords" content="Kaplan's Lab, rare diseases, ciliopathies, bioinformatics, ConVarT, CilioGenics, CiliaMiner, genomics, CRISPR, research">
    <meta name="author" content="Kaplan's Lab">
    <title>Kaplan's Lab</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="elegans2.png">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EKT3SLJ516"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Enhanced Functional Gene Groups Styles */
        .functional-gene-groups {
            margin: 30px 0;
            background: #f8faff;
            border: 1px solid #dde7f5;
            border-radius: 8px;
            padding: 20px;
        }

        .functional-gene-groups h3 {
            color: #203c78;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .functional-gene-groups > p {
            text-align: center;
            color: #666;
            margin-bottom: 25px;
            font-style: italic;
        }

        .gene-groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gene-group-card {
            background: white;
            border: 1px solid #e1e8f0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .gene-group-card:hover {
            box-shadow: 0 4px 12px rgba(32, 60, 120, 0.15);
            transform: translateY(-2px);
        }

        .gene-group-header {
            background: linear-gradient(135deg, #203c78, #2a4a85);
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 1.05em;
        }

        .gene-group-header:hover {
            background: linear-gradient(135deg, #1a3366, #203c78);
        }

        .gene-group-toggle {
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }

        .gene-group-card.expanded .gene-group-toggle {
            transform: rotate(180deg);
        }

        .gene-group-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.3s ease;
            background: #fafbfc;
        }

        .gene-group-card.expanded .gene-group-content {
            max-height: 600px;
            padding: 20px;
        }

        .gene-group-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: #e8f2ff;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .gene-count {
            background: #203c78;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.85em;
        }

        .pathway-info {
            color: #666;
            font-style: italic;
        }

        .gene-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
            max-height: 300px;
            overflow-y: auto;
        }

        .gene-tag {
            background: #ffffff;
            border: 1px solid #d0d7de;
            padding: 6px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            text-align: center;
            transition: all 0.2s ease;
            cursor: pointer;
            color: #203c78;
            font-weight: 500;
        }

        .gene-tag:hover {
            background: #203c78;
            color: white;
            border-color: #203c78;
            transform: scale(1.02);
        }

        .gene-list::-webkit-scrollbar {
            width: 6px;
        }

        .gene-list::-webkit-scrollbar-track {
            background: #f1f3f4;
            border-radius: 3px;
        }

        .gene-list::-webkit-scrollbar-thumb {
            background: #c1c8cd;
            border-radius: 3px;
        }

        .gene-list::-webkit-scrollbar-thumb:hover {
            background: #a8b2ba;
        }

        /* Search Results positioning */
        .search-results-section {
            order: 3; /* Moved after batch query */
        }

        .batch-query-section {
            order: 2;
        }

        .functional-groups-section {
            order: 4; /* After search results */
        }

        .ciliahub-controls {
            order: 1;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .gene-groups-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .gene-group-card {
                margin: 0 10px;
            }
            
            .gene-list {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                gap: 6px;
            }
            
            .gene-group-header {
                padding: 12px 15px;
                font-size: 1em;
            }
        }

        /* Loading animation */
        .loading-genes {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .loading-genes::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-top: 2px solid #203c78;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EKT3SLJ516');
    </script>
    <script>
        function showSection(sectionId) {
            console.log("Showing section: " + sectionId);
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            const section = document.getElementById(sectionId);
            if (section) {
                section.style.display = 'block';
                updateActiveNav(sectionId);
                updateBreadcrumbs(sectionId);
                console.log(sectionId + " section displayed");
                
                // Initialize CiliaHub if showing that section
                if (sectionId === 'ciliahub') {
                    initializeCiliaHub();
                }
            } else {
                console.error("Section not found: " + sectionId);
            }
        }

        function updateActiveNav(sectionId) {
            document.querySelectorAll('.navbar a, .dropdown-content a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${sectionId}`) {
                    link.classList.add('active');
                }
            });
        }

        function updateBreadcrumbs(sectionId) {
            const breadcrumbs = document.getElementById('breadcrumbs');
            let path = ['<a href="#home" onclick="showSection(\'home\')">Home</a>'];
            if (sectionId !== 'home') {
                const sectionTitle = document.getElementById(sectionId).querySelector('h1').textContent;
                if (sectionId.startsWith('research-') || sectionId === 'bioinformatics' || sectionId === 'ciliahub') {
                    path.push('<a href="#research-overview" onclick="showSection(\'research-overview\')">Research</a>');
                } else if (sectionId.startsWith('current-') || sectionId.startsWith('former-') || sectionId === 'group-photos' || sectionId === 'open-positions') {
                    path.push('<a href="#current-members" onclick="showSection(\'current-members\')">Team</a>');
                }
                path.push(sectionTitle);
            }
            breadcrumbs.innerHTML = path.join(' > ');
        }

        // Sample functional gene groups data
        const functionalGeneGroups = {
            "Cilia Assembly & Structure": {
                genes: ["IFT88", "IFT172", "IFT81", "IFT57", "IFT52", "IFT46", "IFT27", "IFT25", "IFT22", "IFT20", "DYNC2H1", "DYNC2LI1", "WDR34", "WDR60", "TCTEX1D2"],
                pathway: "Intraflagellar Transport",
                description: "Essential genes for cilia assembly and maintenance"
            },
            "Basal Body Formation": {
                genes: ["CEP290", "CEP164", "CEP120", "CEP152", "CEP63", "CEP135", "PCNT", "CDK5RAP2", "SASS6", "SAS6", "PLK4", "STIL", "CPAP", "CEP76", "CEP78"],
                pathway: "Centrosome/Basal Body Biogenesis",
                description: "Genes critical for basal body and centrosome formation"
            },
            "Ciliary Signaling": {
                genes: ["PTCH1", "SMO", "GLI1", "GLI2", "GLI3", "SUFU", "KIF7", "PKA", "GSK3B", "ARRB2", "GRK2", "ADCY3", "ADCY5", "ADCY6", "PDE4D"],
                pathway: "Hedgehog & GPCR Signaling",
                description: "Signaling pathways mediated through primary cilia"
            },
            "Ciliopathy Syndrome Genes": {
                genes: ["BBS1", "BBS2", "BBS4", "BBS5", "BBS7", "BBS9", "BBS10", "BBS12", "MKKS", "TRIM32", "NPHP1", "NPHP3", "NPHP4", "NPHP5", "NPHP6"],
                pathway: "Bardet-Biedl & Nephronophthisis",
                description: "Genes associated with major ciliopathy syndromes"
            },
            "Transition Zone": {
                genes: ["TMEM67", "TMEM216", "TMEM237", "CC2D1A", "AHI1", "CEP41", "TCTN1", "TCTN2", "TCTN3", "B9D1", "B9D2", "MKS1", "JBTS17", "INPP5E"],
                pathway: "Ciliary Gate Function",
                description: "Proteins localizing to the ciliary transition zone"
            },
            "Motile Cilia Function": {
                genes: ["DNAH5", "DNAH11", "DNAI1", "DNAI2", "DNAL1", "CCDC39", "CCDC40", "RSPH1", "RSPH4A", "RSPH9", "HYDIN", "DRC1", "ODA7", "ARMC4", "ZMYND10"],
                pathway: "Dynein Arm Assembly",
                description: "Genes essential for motile cilia beating and function"
            },
            "Primary Cilium Maintenance": {
                genes: ["ARL13B", "INPP5E", "TULP3", "EVCL", "EVC2", "RPGRIP1L", "TCTN1", "MKS1", "TMEM67", "CC2D1A", "AHI1", "NPHP1", "JBTS1", "CORS2", "OFD1"],
                pathway: "Ciliary Membrane Homeostasis",
                description: "Maintenance and regulation of primary cilium structure"
            },
            "Cilia Disassembly": {
                genes: ["AURKA", "PLK1", "HDAC6", "TTBK2", "NDE1", "NDEL1", "KIF2A", "MCAK", "NEK2", "CEP97", "CP110", "CEP170", "CENPJ", "CEP131", "TTLL6"],
                pathway: "Cell Cycle Control",
                description: "Regulation of ciliary disassembly during cell division"
            }
        };

        function initializeCiliaHub() {
            // Initialize functional gene groups
            createFunctionalGeneGroups();
            
            // Set up event listeners
            setupFunctionalGroupEvents();
        }

        function createFunctionalGeneGroups() {
            const container = document.getElementById('functionalGeneGroupsContainer');
            if (!container) return;

            const gridContainer = document.createElement('div');
            gridContainer.className = 'gene-groups-grid';

            Object.entries(functionalGeneGroups).forEach(([groupName, groupData]) => {
                const card = createGeneGroupCard(groupName, groupData);
                gridContainer.appendChild(card);
            });

            container.innerHTML = '';
            container.appendChild(gridContainer);
        }

        function createGeneGroupCard(groupName, groupData) {
            const card = document.createElement('div');
            card.className = 'gene-group-card';
            
            const header = document.createElement('div');
            header.className = 'gene-group-header';
            header.innerHTML = `
                <span>${groupName}</span>
                <span class="gene-group-toggle">▼</span>
            `;
            
            const content = document.createElement('div');
            content.className = 'gene-group-content';
            
            const meta = document.createElement('div');
            meta.className = 'gene-group-meta';
            meta.innerHTML = `
                <span class="pathway-info">${groupData.pathway}</span>
                <span class="gene-count">${groupData.genes.length} genes</span>
            `;
            
            const description = document.createElement('p');
            description.textContent = groupData.description;
            description.style.marginBottom = '15px';
            description.style.color = '#555';
            description.style.fontSize = '0.9em';
            
            const geneList = document.createElement('div');
            geneList.className = 'gene-list';
            
            groupData.genes.forEach(gene => {
                const geneTag = document.createElement('div');
                geneTag.className = 'gene-tag';
                geneTag.textContent = gene;
                geneTag.onclick = () => searchForGene(gene);
                geneList.appendChild(geneTag);
            });
            
            content.appendChild(meta);
            content.appendChild(description);
            content.appendChild(geneList);
            
            card.appendChild(header);
            card.appendChild(content);
            
            // Toggle functionality
            header.onclick = () => {
                card.classList.toggle('expanded');
            };
            
            return card;
        }

        function setupFunctionalGroupEvents() {
            // Add any additional event listeners for functional groups
            console.log('Functional gene groups initialized');
        }

        function searchForGene(geneName) {
            const searchInput = document.getElementById('ciliahub-search');
            if (searchInput) {
                searchInput.value = geneName;
                // Trigger search event
                searchInput.dispatchEvent(new Event('input'));
                // Scroll to results
                const resultsSection = document.querySelector('.table-wrapper');
                if (resultsSection) {
                    resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }
    </script>
</head>
<body onload="showSection('home')">
    <!-- Navbar -->
    <nav class="navbar">
        <a href="#home" onclick="showSection('home')">Home</a>
        <div class="dropdown">
            <span class="dropbtn">Research ▼</span>
            <div class="dropdown-content">
                <a href="#research-overview" onclick="showSection('research-overview')">Research Overview</a>
                <a href="#cilia-ciliopathies" onclick="showSection('cilia-ciliopathies')">Cilia and Ciliopathies</a>
                <a href="#disease-modeling" onclick="showSection('disease-modeling')">Disease Modeling</a>
                <a href="#cilia-cilia-joining" onclick="showSection('cilia-cilia-joining')">Cilia-Cilia Joining</a>
                <a href="#bioinformatics" onclick="showSection('bioinformatics')">Bioinformatics</a>
            </div>
        </div>
        <div class="dropdown">
            <span class="dropbtn">Team ▼</span>
            <div class="dropdown-content">
                <a href="#current-members" onclick="showSection('current-members')">Current Members</a>
                <a href="#former-members" onclick="showSection('former-members')">Former Members</a>
                <a href="#group-photos" onclick="showSection('group-photos')">Group Photos</a>
                <a href="#open-positions" onclick="showSection('open-positions')">Open Positions</a>
            </div>
        </div>
        <a href="#publications" onclick="showSection('publications')">Publications</a>
        <a href="#news" onclick="showSection('news')">News</a>
        <a href="#resources" onclick="showSection('resources')">Resources</a>
        <a href="#gallery" onclick="showSection('gallery')">Gallery</a>
        <a href="#ciliahub" onclick="showSection('ciliahub')">CiliaHub</a>
    </nav>

    <!-- Breadcrumbs -->
    <div id="breadcrumbs"></div>

    <div class="container">
        <!-- All existing sections remain the same until CiliaHub -->
        <section id="home" class="section">
            <h1>Welcome to Kaplan's Lab</h1>
            <p class="mission-statement">We study ciliopathies using <em>C. elegans</em> and bioinformatics to uncover the molecular basis of rare diseases.</p>
            <img src="figure3.png" alt="Cilia Illustration" class="figure-image">
            <p>Our lab is dedicated to uncovering the genetic and molecular mechanisms driving rare diseases, with a particular focus on ciliopathies. By integrating comparative genomics, functional assays, and cutting-edge gene editing technologies, we aim to bridge the gap between genotype and phenotype, advancing our understanding of disease mechanisms and identifying potential therapeutic targets.</p>
            <div class="research-updates">
                <h2>Research Updates</h2>
                <div class="research-grid">
                    <div class="research-item">
                        <img src="elegans.png" alt="Research Icon" class="fit-image">
                        <div class="research-text">
                            <p>Sezer A, Oner SS, Saat H, Turan MG, Gungor T, Cevik S, Erol A, Yenisert F, Catalbas K, Ozbakir DH, Kocagil S, Cilingir O, Ergun MA, Kaplan OI. <strong>A homozygous frameshift variant in the CILK1 gene causes cranioectodermal dysplasia in a consanguineous family.</strong> Eur J Hum Genet. 2025. doi: <a href="https://doi.org/10.1038/s41431-025-01902-0">10.1038/s41431-025-01902-0</a></p>
                        </div>
                    </div>
                    <div class="research-item">
                        <img src="elegans.png" alt="Research Icon" class="fit-image">
                        <div class="research-text">
                            <p>Turan MG, Kantarci H, Cevik S, Kaplan OI. <strong>ARL13B regulates juxtaposed cilia-cilia elongation in BBSome dependent manner in Caenorhabditis elegans.</strong> iScience. 2025 Jan 10;28(2):111791. doi: <a href="https://doi.org/10.1016/j.isci.2025.111791">10.1016/j.isci.2025.111791</a></p>
                        </div>
                    </div>
                    <div class="research-item">
                        <img src="elegans.png" alt="Research Icon" class="fit-image">
                        <div class="research-text">
                            <p>Pir MS, Cevik S, Kaplan OI. <strong>CilioGenics: an integrated method and database for predicting novel ciliary genes.</strong> Nucleic Acids Res. 2024 Aug 12;52(14):8127-8145. doi: <a href="https://doi.org/10.1093/nar/gkae554">10.1093/nar/gkae554</a></p>
                        </div>
                    </div>
                    <div class="research-item">
                        <img src="elegans.png" alt="Research Icon" class="fit-image">
                        <div class="research-text">
                            <p><strong>March 2025:</strong> New publication in iScience on cilia-cilia elongation! <a href="https://www.sciencedirect.com/science/article/pii/S2589004225000501">Read more</a></p>
                        </div>
                    </div>
                    <div class="research-item">
                        <img src="elegans.png" alt="Research Icon" class="fit-image">
                        <div class="research-text">
                            <p><strong>January 2025:</strong> Kaplan Lab receives grant for ciliopathy research.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CiliaHub Section with improved layout -->
        <section id="ciliahub" class="section">
            <div class="container">
                <!-- Error Message -->
                <div id="ciliahub-error" style="display: none; color: red; text-align: center; margin-bottom: 20px;"></div>

                <!-- Logo above title -->
                <img src="CiliaHub_Logo.png" alt="CiliaHub Logo" class="w-full mx-auto mb-4" style="max-width: 100%; height: auto;">

                <!-- Title -->
                <h1 style="color: #203c78; text-align: justify; text-align-last: center;">CiliaHub: Ciliary Gene Database</h1>
                <p class="mb-4" style="text-align: justify;">
                    <strong>CiliaHub</strong> is an updated and curated database of all experimentally confirmed ciliary genes — an evolution of the ciliary "Gold Standard" gene list. Through a combination of R-based text mining of the scientific literature and manual expert review, the database now includes over 2,002 genes, including <strong> 1300+ newly associated ciliary genes</strong>.
                    <br><br>
                    This user-friendly platform allows researchers to:
                    <ul style="margin-top: 10px; margin-bottom: 10px;">
                        <li> Explore curated gene entries with descriptions and known synonyms</li>
                        <li> Access references linked to each gene</li>
                        <li> Navigate to external databases via direct hyperlinks</li>
                        <li> Download the full gene list for further analysis</li>
                    </ul>
                    <strong>CiliaHub</strong> empowers both basic and clinical researchers in the fields of cell biology and genetics to explore the molecular basis of cilia-related functions and ciliopathies.
                </p>

                <!-- How to Use (collapsible box) -->
                <details class="mb-4" style="background: #f5faff; border: 1px solid #cce0f5; padding: 15px; border-radius: 5px;">
                    <summary style="font-weight: bold; cursor: pointer;"> How to Use CiliaHub</summary>
                    <div style="margin-top: 10px;">
                        <ul>
                            <li><strong> Search:</strong> Enter a gene name, Ensembl ID, OMIM ID, or synonym to find specific entries.</li>
                            <li><strong> Filter:</strong> Use the dropdown menu to display genes based on ciliary localization (e.g., Basal Body).</li>
                            <li><strong> Reset:</strong> Click <em>Reset</em> to clear search and filters, and reload all results.</li>
                            <li><strong> Download:</strong> Export the full gene list as a CSV file for offline analysis or custom sorting.</li>
                            <li><strong> External Links:</strong> Gene names, Ensembl IDs, OMIM IDs, and references are hyperlinked to authoritative databases.</li>
                            <li><strong> Batch Query:</strong> Paste multiple genes or IDs below and click "Batch Query" to retrieve all matching entries at once.</li>
                        </ul>
                    </div>
                </details>

                <!-- 1. Search Controls -->
                <div class="ciliahub-controls mb-4 text-center">
                    <div class="search-container">
                        <input type="text" id="ciliahub-search" placeholder="Search by Gene, Ensembl ID, or Synonym..." aria-label="Search CiliaHub database" autocomplete="off">
                        <div id="search-suggestions" class="search-suggestions"></div>
                    </div>
                    
                    <div class="advanced-filters">
                        <select id="ciliahub-filter" aria-label="Filter by ciliary localization">
                            <option value="">All Localizations</option>
                            <option value="basal-body">Basal Body</option>
                            <option value="transition-zone">Transition Zone</option>
                            <option value="cilia">Cilia</option>
                            <option value="basal-body-cilia">Basal Body, Cilia</option>
                            <option value="cilia-basal-body">Cilia, Basal Body</option>
                            <option value="flagella-cilia">Flagella, Cilia</option>
                            <option value="cilia-basal-body-transition-zone">Cilia, Basal Body, Transition Zone</option>
                            <option value="flagella-cilia-basal-body">Flagella, Cilia, Basal Body</option>
                            <option value="ciliary-associated-gene">Ciliary Associated Gene</option>
                        </select>

                        <select id="omim-filter" aria-label="Filter by OMIM availability">
                            <option value="">All OMIM Status</option>
                            <option value="has-omim">Has OMIM ID</option>
                            <option value="no-omim">No OMIM ID</option>
                        </select>

                        <select id="reference-filter" aria-label="Filter by reference availability">
                            <option value="">All Reference Status</option>
                            <option value="has-reference">Has References</option>
                            <option value="no-reference">No References</option>
                        </select>

                        <input type="text" id="synonym-filter" placeholder="Filter by synonym..." aria-label="Filter by synonym">
                    </div>

                    <div class="control-buttons">
                        <button id="ciliahub-reset" aria-label="Reset search and filters">Reset All</button>
                        <button id="download-ciliahub" aria-label="Download CiliaHub data as CSV">Download Data</button>
                        <button id="export-filtered" aria-label="Export filtered results as CSV">Export Filtered</button>
                    </div>
                </div>

                <!-- 2. Batch Query -->
                <div class="batch-query-section batch-query mb-5" style="max-width:600px; margin: 0 auto 30px; text-align: left;">
                    <label for="batchGenes" style="font-weight:bold;">Batch Query: Enter gene names or IDs (comma, space, or newline separated):</label><br>
                    <textarea id="batchGenes" rows="4" style="width: 100%; font-family: monospace;" placeholder="e.g. IFT88, BBS1, NPHP1" aria-label="Enter multiple gene names or IDs for batch query"></textarea><br>
                    <button id="batchQueryBtn" style="margin-top: 8px; padding: 8px 16px; background-color:#203c78; color:white; border:none; border-radius:5px; cursor:pointer;" aria-label="Submit batch query">Batch Query</button>
                </div>

                <!-- Batch Query Results -->
                <div id="batchResultsContainer" class="mb-5" style="max-width:900px; margin: 0 auto; display:none;">
                    <h3 style="color: #203c78; text-align: center;">Batch Query Results</h3>
                    <div id="batchResults"></div>
                    <button id="clearBatchResults" style="margin-top:10px; padding: 6px 12px; background:#888; color:#fff; border:none; border-radius:4px; cursor:pointer;" aria-label="Clear batch query results">Clear Results</button>
                </div>

                <!-- 3. Search Results -->
                <div class="search-results-section">
                    <!-- Results counter -->
                    <div id="results-counter" class="results-counter mb-3"></div>

                    <!-- Popular Genes Widget -->
                    <div id="popularGenesWidget" style="max-width: 600px; margin: 20px auto; padding: 15px; border: 1px solid #cce0f5; background: #f0f8ff; border-radius: 6px; color: #203c78;">
                        <h3 style="text-align:center; margin-top:0;"> Popular Genes This Session</h3>
                        <ul id="popularGenesList" style="list-style: none; padding-left: 10px;"></ul>
                    </div>

                    <!-- Table wrapper -->
                    <div class="table-wrapper mb-5">
                        <div id="ciliahub-loading" style="text-align: center; padding: 20px;">Loading data...</div>
                        <table class="ciliahub-table" style="display: none;">
                            <thead>
                                <tr>
                                    <th style="width: 10%;">Gene</th>
                                    <th style="width: 15%;">Ensembl ID</th>
                                    <th style="width: 20%;">Gene Description</th>
                                    <th style="width: 10%;">Synonym</th>
                                    <th style="width: 10%;">OMIM ID</th>
                                    <th style="width: 20%;">Reference</th>
                                    <th style="width: 15%;">Ciliary Localization</th>
                                </tr>
                            </thead>
                            <tbody id="ciliahub-table-body"></tbody>
                        </table>
                    </div>
                </div>

                <!-- 4. Functional Gene Groups -->
                <div class="functional-groups-section functional-gene-groups" aria-label="Functional Gene Groups section">
                    <h3>🧬 Functional Gene Groups</h3>
                    <p>Explore collections of genes grouped by common pathways or molecular functions. Click on any group to expand and see the associated genes. Click on individual genes to search for them in the database above.</p>
                    
                    <div class="loading-genes" id="functionalGroupsLoading">
                        Loading functional gene groups...
                    </div>
                    
                    <div id="functionalGeneGroupsContainer" style="display: none;"></div>
                </div>

                <!-- NEW FEATURE 1: Interactive Statistics Dashboard -->
                <div id="statistics-dashboard" class="stats-dashboard mb-5">
                    <h3 style="color: #203c78; text-align: center; margin-bottom: 20px;">📊 Cilia-Related Gene Statistics & Analysis</h3>
                   
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-genes">0</div>
                            <div class="stat-label">Cilia-Related Genes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="unique-localizations">0</div>
                            <div class="stat-label">Cilia Localizations</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="with-omim">0</div>
                            <div class="stat-label">With OMIM Entries</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="with-references">0</div>
                            <div class="stat-label">With References</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-section">
                            <h4>Cilia-Related Gene Distribution by Localization</h4>
                            <canvas id="localizationChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-section">
                            <h4>Database Growth Over Time</h4>
                            <canvas id="growthChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 10px; background: #f0f8ff; border-radius: 5px; font-size: 0.9em; color: #666;">
                        <strong>Note:</strong> Statistics above reflect only genes with cilia-related localizations (cilia, transition zone, basal body, flagella, and cilia-associated genes). The total database contains additional genes that may have ciliary functions but different subcellular localizations.
                    </div>
                </div>

                <!-- Citation -->
                <div class="citation-box mt-5 mb-4 p-3 rounded" style="background-color: #e6f2ff; border-left: 4px solid #004080;">
                    <strong>Suggested citation:</strong> Yenisert F, Kaplan OI. <em>Expanded Catalog of Ciliary Genes: Integration of Novel Ciliary Genes into the Ciliome</em>. 2025. Available at:
                    <a href="https://rarediseaselab.github.io/home/#ciliahub" target="_blank">CiliaHub</a>
                </div>

                <!-- Feedback Button -->
                <p class="mt-4 text-center">
                    <a href="mailto:oktay.kaplan@agu.edu.tr?subject=CiliaHub Feedback" class="read-more-btn"
                       style="background-color: #203c78; color: white; padding: 8px 16px; border-radius: 5px; text-decoration: none;" aria-label="Submit feedback for CiliaHub">
                        Submit Feedback
                    </a>
                </p>
            </div>
        </section>

        <!-- All other sections remain unchanged -->
        <section id="research-overview" class="section" style="display: none;">
            <h1>Research Overview</h1>
            <p>Our lab is dedicated to uncovering the genetic and molecular mechanisms driving rare diseases, with a particular focus on ciliopathies. By integrating comparative genomics, functional assays, and cutting-edge gene editing technologies, we aim to bridge the gap between genotype and phenotype, advancing our understanding of disease mechanisms and identifying potential therapeutic targets.</p>
            <div class="research-overview-grid">
                <div class="research-overview-item">
                    <img src="cilia_res1.jpg" alt="Cilia and Ciliopathies" class="overview-image">
                    <h2>Cilia and Ciliopathies</h2>
                    <p class="research-text">We study ciliopathies such as Joubert syndrome, Bardet-Biedl syndrome, and cranioectodermal dysplasia to identify causative genes and understand their roles in disease pathogenesis.</p>
                    <a href="#cilia-ciliopathies" onclick="showSection('cilia-ciliopathies')" class="read-more-btn">Read More</a>
                </div>
                <div class="research-overview-item">
                    <img src="research3.jpeg" alt="Disease Modeling" class="overview-image">
                    <h2>Disease Modeling</h2>
                    <p class="research-text">Using advanced genomic technologies and CRISPR/Cas9, we identify and characterize genetic variants associated with rare diseases, aiming to improve diagnosis and treatment.</p>
                    <a href="#disease-modeling" onclick="showSection('disease-modeling')" class="read-more-btn">Read More</a>
                </div>
                <div class="research-overview-item">
                    <img src="research2.jpg" alt="Cilia-Cilia Joining" class="overview-image">
                    <h2>Cilia-Cilia Joining</h2>
                    <p class="research-text">We investigate the molecular machinery involved in cilia-cilia elongation and inter-ciliary communication, critical for ciliary function and related diseases.</p>
                    <a href="#cilia-cilia-joining" onclick="showSection('cilia-cilia-joining')" class="read-more-btn">Read More</a>
                </div>
                <div class="research-overview-item">
                    <img src="convart.jpeg" alt="Bioinformatics" class="overview-image">
                    <h2>Bioinformatics</h2>
                    <p class="research-text">We develop and maintain bioinformatics tools like ConVarT, CilioGenics, and CiliaMiner to facilitate research in ciliopathies and rare diseases.</p>
                    <a href="#bioinformatics" onclick="showSection('bioinformatics')" class="read-more-btn">Read More</a>
                </div>
                <div class="research-overview-item">
                    <img src="cilia_res1.jpg" alt="CiliaHub" class="overview-image">
                    <h2>CiliaHub</h2>
                    <p class="research-text">Explore our comprehensive database of ciliary genes, including detailed annotations and references, to support research in ciliary biology and ciliopathies.</p>
                    <a href="#ciliahub" onclick="showSection('ciliahub')" class="read-more-btn">Read More</a>
                </div>
            </div>
        </section>
    </div>

    <!-- Back to Top Button -->
    <button id="back-to-top" title="Back to Top" aria-label="Scroll back to top">↑</button>

    <footer>
        <p>© 2025 Kaplan's Lab</p>
        <div class="social-links">
            <a href="https://github.com/thekaplanlab" target="_blank"><img src="github-logo.png" alt="GitHub" class="social-icon"></a>
            <a href="https://www.instagram.com/kaplanlab/?hl=en" target="_blank"><img src="instagram-logo.png" alt="Instagram" class="social-icon"></a>
            <a href="https://www.linkedin.com/in/oktay-i-kaplan-74b16856/" target="_blank"><img src="linkedin-logo.png" alt="LinkedIn" class="social-icon"></a>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize functional gene groups when page loads
            setTimeout(() => {
                const loadingElement = document.getElementById('functionalGroupsLoading');
                const containerElement = document.getElementById('functionalGeneGroupsContainer');
                
                if (loadingElement && containerElement) {
                    loadingElement.style.display = 'none';
                    containerElement.style.display = 'block';
                    createFunctionalGeneGroups();
                }
            }, 1000); // Simulate loading time

            // Publication search functionality
            const searchInput = document.getElementById('pub-search');
            const pubList = document.getElementById('publications-list');
            if (searchInput && pubList) {
                const pubs = pubList.querySelectorAll('.research-item');
                searchInput.addEventListener('input', function() {
                    const query = this.value.toLowerCase().trim();
                    pubs.forEach(pub => {
                        const text = pub.textContent.toLowerCase();
                        pub.style.display = text.includes(query) ? 'flex' : 'none';
                    });
                });
            }

            // Lightbox functionality
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxLinks = document.querySelectorAll('.lightbox-link');
            const closeBtn = document.querySelector('.lightbox-close');

            if (lightbox && lightboxImage && closeBtn) {
                lightboxLinks.forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        lightboxImage.src = this.href;
                        lightbox.style.display = 'flex';
                    });
                });

                closeBtn.addEventListener('click', function() {
                    lightbox.style.display = 'none';
                });

                lightbox.addEventListener('click', function(e) {
                    if (e.target === lightbox) {
                        lightbox.style.display = 'none';
                    }
                });
            }

            // Back to top button
            const backToTopBtn = document.getElementById('back-to-top');
            if (backToTopBtn) {
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 300) {
                        backToTopBtn.style.display = 'block';
                    } else {
                        backToTopBtn.style.display = 'none';
                    }
                });

                backToTopBtn.addEventListener('click', function() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }

            // Night mode toggle
            const nightModeToggle = document.getElementById('night-mode-toggle');
            if (nightModeToggle) {
                if (localStorage.getItem('nightMode') === 'enabled') {
                    document.body.classList.add('night-mode');
                }
                nightModeToggle.addEventListener('click', function() {
                    document.body.classList.toggle('night-mode');
                    localStorage.setItem('nightMode', document.body.classList.contains('night-mode') ? 'enabled' : 'disabled');
                });
            }
        });
    </script>

    <!-- Night Mode Toggle -->
    <button id="night-mode-toggle" title="Toggle Night Mode" aria-label="Toggle night mode"></button>
</body>
</html>
